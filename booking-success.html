<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lá»‹ch Ä‘Ã£ Ä‘áº·t</title>
<link rel="stylesheet" href="style.css">
</head>

<body class="chat-page">

<header>
  <nav class="navbar section-content">
    <a href="index.html" class="nav-logo">
      <h2 class="logo-text">ğŸ’ŠHealthCare</h2>
    </a>

    <ul class="nav-menu">
      <li class="nav-item"><a href="index.html" class="nav-link">Trang chá»§</a></li>
      <li class="nav-item"><a href="about.html" class="nav-link">Vá» chÃºng tÃ´i</a></li>
      <li class="nav-item"><a href="#" class="nav-link">TÆ° Váº¥n</a></li>
      <li class="nav-item"><a href="reviews.html" class="nav-link">KhÃ¡ch HÃ ng</a></li>
      <li class="nav-item"><a href="library.html" class="nav-link">Cáº©m Nang</a></li>
      <li class="nav-item"><a href="contact.html" class="nav-link"> LiÃªn Há»‡</a></li>

    </ul>
  </nav>
</header>

<main class="chat-container">

<div class="chat-header">
<h2>ğŸ‰ Äáº·t lá»‹ch thÃ nh cÃ´ng</h2>
<p>ThÃ´ng tin lá»‹ch háº¹n cá»§a báº¡n</p>
</div>

<div class="chat-box" id="bookingInfo"></div>

<div style="padding:20px; text-align:center;">
    <a href="booking.html" class="button order-now">Äáº·t lá»‹ch khÃ¡c</a>
    <a href="index.html" class="button contact-us" style="margin-left:10px;">Vá» Trang Chá»§</a>
</div>

</main>

<script>

let allBookings = JSON.parse(localStorage.getItem("bookings")) || [];
const infoBox = document.getElementById("bookingInfo");

function renderBookings(){

    infoBox.innerHTML = "<h3>ğŸ“‹ Danh sÃ¡ch lá»‹ch Ä‘Ã£ Ä‘áº·t</h3><br>";

    if(allBookings.length === 0){
        infoBox.innerHTML += "<p>ChÆ°a cÃ³ lá»‹ch nÃ o.</p>";
        return;
    }

    allBookings.forEach((booking, index) => {

        infoBox.innerHTML += `
        <div style="margin-bottom:15px; padding:15px; background:#eef2ff; border-radius:12px;">
            <strong>ğŸ‘¤ ${booking.name}</strong><br>
            ğŸ¥ ${booking.department}<br>
            ğŸ“… ${booking.date}<br>
            ğŸ•’ ${booking.time}<br><br>
            <button onclick="cancelBooking(${index})"
            style="background:#ff4d4d; color:white; padding:6px 12px; border-radius:20px;">
            âŒ Huá»· lá»‹ch
            </button>
        </div>
        `;
    });
}

function cancelBooking(index){

    const confirmCancel = confirm("Báº¡n cÃ³ cháº¯c muá»‘n huá»· lá»‹ch nÃ y khÃ´ng?");

    if(!confirmCancel) return;

    allBookings.splice(index, 1);

    localStorage.setItem("bookings", JSON.stringify(allBookings));

    renderBookings();
}

renderBookings();

</script>

</body>
</html>